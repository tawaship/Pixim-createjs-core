{"version":3,"file":"pixi-animate-core.esm.js","sources":["../src/createjs/alias.ts","../src/createjs/ButtonHelper.ts","../src/createjs/core.ts","../src/createjs/Stage.ts","../src/createjs/StageGL.ts","../src/createjs/MovieClip.ts","../src/createjs/Sprite.ts","../src/createjs/Shape.ts","../src/createjs/Bitmap.ts","../src/createjs/Graphics.ts","../src/createjs/Text.ts","../src/core.ts"],"sourcesContent":["/**\r\n * @ignore\r\n */\r\ndeclare const window: any;\r\n\r\n/**\r\n * createjsオブジェクト\r\n */\r\nexport const createjs = window.createjs;","import { createjs } from './alias';\r\n\r\n/**\r\n * @ignore\r\n */\r\ndeclare const window: any;\r\n\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/ButtonHelper.html | createjs.ButtonHelper]]\r\n */\r\nexport class CreatejsButtonHelper extends createjs.ButtonHelper {\r\n\tconstructor(...args: any[]) {\r\n\t\tsuper(...args);\r\n\t\t\r\n\t\tconst createjs = args[0];\r\n\t\tconst pixi = createjs.pixi;\r\n\t\t\r\n\t\tconst baseFrame = args[1];\r\n\t\tconst overFrame = args[2];\r\n\t\tconst downFrame = args[3];\r\n\t\tconst hit = arguments[5];\r\n\t\tconst hitFrame = args[6];\r\n\t\t\r\n\t\thit.gotoAndStop(hitFrame);\r\n\t\tconst hitPixi = pixi.addChild(hit.pixi);\r\n\t\thitPixi.alpha = 0.00001;\r\n\t\t\r\n\t\tlet isOver = false;\r\n\t\tlet isDown = false;\r\n\t\t\r\n\t\thitPixi.on('pointerover', function() {\r\n\t\t\tisOver = true;\r\n\t\t\tif (isDown) {\r\n\t\t\t\tcreatejs.gotoAndStop(downFrame);\r\n\t\t\t} else {\r\n\t\t\t\tcreatejs.gotoAndStop(overFrame);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\thitPixi.on('pointerout', function() {\r\n\t\t\tisOver = false;\r\n\t\t\t\r\n\t\t\tif (isDown) {\r\n\t\t\t\tcreatejs.gotoAndStop(overFrame);\r\n\t\t\t} else {\r\n\t\t\t\tcreatejs.gotoAndStop(baseFrame);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\thitPixi.on('pointerdown', function() {\r\n\t\t\tisDown = true;\r\n\t\t\tcreatejs.gotoAndStop(downFrame);\r\n\t\t});\r\n\t\t\r\n\t\thitPixi.on('pointerup', function() {\r\n\t\t\tisDown = false;\r\n\t\t\tif (isOver) {\r\n\t\t\t\tcreatejs.gotoAndStop(overFrame);\r\n\t\t\t} else {\r\n\t\t\t\tcreatejs.gotoAndStop(baseFrame);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\thitPixi.on('pointerupoutside', function() {\r\n\t\t\tisDown = false;\r\n\t\t\tif (isOver) {\r\n\t\t\t\tcreatejs.gotoAndStop(overFrame);\r\n\t\t\t} else {\r\n\t\t\t\tcreatejs.gotoAndStop(baseFrame);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\thitPixi.interactive = true;\r\n\t\thitPixi.cursor = 'pointer';\r\n\t}\r\n}","import { DisplayObject, Container, Point } from 'pixi.js';\r\nimport { CreatejsColorFilter } from './ColorFilter';\r\nimport { CreatejsButtonHelper } from './ButtonHelper';\r\nimport { CreatejsStage } from './Stage';\r\nimport { CreatejsStageGL } from './StageGL';\r\nimport { CreatejsMovieClip, PixiMovieClip } from './MovieClip';\r\nimport { CreatejsSprite } from './Sprite';\r\nimport { CreatejsShape } from './Shape';\r\nimport { CreatejsBitmap } from './Bitmap';\r\nimport { CreatejsGraphics } from './Graphics';\r\nimport { CreatejsText } from './Text';\r\nimport { createjs } from './alias';\r\n\r\ntype TCreatejsDisplayObject = any/* createjs.DisplayObject */;\r\n\r\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Point.html | PIXI.Point]]\r\n */\r\ndeclare class PixiPoint {};\r\n\r\nexport { Point as PixiPoint };\r\n\r\nexport interface ITickerData {\r\n\tdelta: number;\r\n}\r\n\r\nexport interface IMixinPixiContainer extends Container {\r\n\r\n}\r\n\r\nexport interface IPixiContainerClass<T = {}> {\r\n\tnew (...args: any[]): T;\r\n}\r\n\r\nexport function mixinPixiContainer<TBase extends IPixiContainerClass>(Base: TBase) {\r\n\treturn class extends Base {\r\n\t\t/*\r\n\t\tprivate _filterContainer: IMixinPixiContainer | null;\r\n\t\t\r\n\t\tget filterContainer() {\r\n\t\t\treturn this._filterContainer;\r\n\t\t}\r\n\t\t\r\n\t\tset filterContainer(value) {\r\n\t\t\tthis._filterContainer = value;\r\n\t\t}\r\n\t\t*/\r\n\t}\r\n}\r\n\r\nexport interface IPixiData<T extends IMixinPixiContainer> {\r\n\tregObj: Point;\r\n\tinstance: T | null;\r\n}\r\n\r\nexport function createPixiData<TPixiContainer extends IMixinPixiContainer>(pixi: TPixiContainer, regObj: Point): IPixiData<TPixiContainer> {\r\n\treturn {\r\n\t\tregObj,\r\n\t\tinstance: pixi\r\n\t};\r\n}\r\n\r\nexport interface ICreatejsParam {\r\n\tx: number;\r\n\ty: number;\r\n\tscaleX: number;\r\n\tscaleY: number;\r\n\tregX: number;\r\n\tregY: number;\r\n\tskewX: number;\r\n\tskewY: number;\r\n\trotation: number;\r\n\tvisible: boolean;\r\n\talpha: number;\r\n\t_off: boolean;\r\n\tmask: CreatejsShape | null;\r\n\tfilters: CreatejsColorFilter[] | null;\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst DEG_TO_RAD = Math.PI / 180;\r\n\r\nexport type TCreatejsInteractionEvent = 'mousedown' | 'rollover' | 'rollout' | 'pressmove' | 'pressup';\r\n\r\nexport type TPixiInteractionEvent = 'pointerdown' | 'pointerover' | 'pointerout' | 'pointermove' | 'pointerup' | 'pointerupoutside';\r\n\r\nexport interface ICreatejsInteractionEventDelegate {\r\n\t (e: any): void;\r\n}\r\n\r\nexport interface IPixiInteractionEventDelegate {\r\n\t (e: any): void;\r\n}\r\n\r\nexport interface ICreatejsInteractionEventData {\r\n\ttypes: TPixiInteractionEvent[];\r\n\tfactory(cb: ICreatejsInteractionEventDelegate): IPixiInteractionEventDelegate;\r\n}\r\n\r\nexport class EventManager {\r\n\tprivate _isDown: boolean = false;\r\n\tprivate _events: { [name in TPixiInteractionEvent]: { func: IPixiInteractionEventDelegate, origin: ICreatejsInteractionEventDelegate  }[] };\r\n\tprivate _data: { [name in TCreatejsInteractionEvent]: ICreatejsInteractionEventData };\r\n\t\r\n\tconstructor(cjs: TCreatejsObject) {\r\n\t\tthis._events = {\r\n\t\t\tpointerdown: [],\r\n\t\t\tpointerover: [],\r\n\t\t\tpointerout: [],\r\n\t\t\tpointermove: [],\r\n\t\t\tpointerup: [],\r\n\t\t\tpointerupoutside: []\r\n\t\t};\r\n\t\t\r\n\t\tthis._data = {\r\n\t\t\tmousedown:{\r\n\t\t\t\ttypes: ['pointerdown'],\r\n\t\t\t\tfactory: (cb: ICreatejsInteractionEventDelegate) => {\r\n\t\t\t\t\treturn this._mousedownFactory(cjs, cb);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\trollover: {\r\n\t\t\t\ttypes: ['pointerover'],\r\n\t\t\t\tfactory: (cb: ICreatejsInteractionEventDelegate) => {\r\n\t\t\t\t\treturn this._rolloverFactory(cjs, cb);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\trollout: {\r\n\t\t\t\ttypes: ['pointerout'],\r\n\t\t\t\tfactory: (cb: ICreatejsInteractionEventDelegate) => {\r\n\t\t\t\t\treturn this._rolloutFactory(cjs, cb);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tpressmove: {\r\n\t\t\t\ttypes: ['pointermove'],\r\n\t\t\t\tfactory: (cb: ICreatejsInteractionEventDelegate) => {\r\n\t\t\t\t\tconsole.log(cb)\r\n\t\t\t\t\treturn this._pressmoveFactory(cjs, cb);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tpressup: {\r\n\t\t\t\ttypes: ['pointerup', 'pointerupoutside'],\r\n\t\t\t\tfactory: (cb: ICreatejsInteractionEventDelegate) => {\r\n\t\t\t\t\treturn this._pressupFactory(cjs, cb);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tadd(pixi: DisplayObject, type: TCreatejsInteractionEvent, cb: ICreatejsInteractionEventDelegate) {\r\n\t\tconst data = this._data[type];\r\n\t\t\r\n\t\tconst types = data.types;\r\n\t\tconst func = data.factory(cb);\r\n\t\t\r\n\t\tfor (let i = 0; i < types.length; i++) {\r\n\t\t\tconst t = types[i];\r\n\t\t\tthis._events[t].push({ func, origin: cb });\r\n\t\t\t\r\n\t\t\tpixi.on(t, func);\r\n\t\t}\r\n\t\t\r\n\t\tpixi.interactive = true;\r\n\t}\r\n\t\r\n\tremove(pixi: DisplayObject, type: TCreatejsInteractionEvent, cb: ICreatejsInteractionEventDelegate) {\r\n\t\tconst data = this._data[type];\r\n\t\t\r\n\t\tconst types = data.types;\r\n\t\t\r\n\t\tfor (let i = 0; i < types.length; i++) {\r\n\t\t\tconst t = types[i];\r\n\t\t\t\r\n\t\t\tconst list = this._events[t];\r\n\t\t\t\r\n\t\t\tif (list) {\r\n\t\t\t\tfor (var j = list.length - 1; j >= 0; j--) {\r\n\t\t\t\t\tif (list[j].origin === cb) {\r\n\t\t\t\t\t\tpixi.off(t, list[j].func);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlist.splice(j, 1);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (list.length === 0) {\r\n\t\t\t\t\tthis._events[t] = [];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate _mousedownFactory(cjs: TCreatejsObject, cb: ICreatejsInteractionEventDelegate) {\r\n\t\treturn (e: any) => {\r\n\t\t\te.currentTarget = e.currentTarget.createjs;\r\n\t\t\t\r\n\t\t\te.target = e.target.createjs;\r\n\t\t\tconst ev = e.data;\r\n\t\t\te.rawX = ev.global.x;\r\n\t\t\te.rawY = ev.global.y;\r\n\t\t\t\r\n\t\t\tthis._isDown = true;\r\n\t\t\t\r\n\t\t\tcb(e);\r\n\t\t};\r\n\t}\r\n\t\r\n\tprivate _rolloverFactory(cjs: TCreatejsObject, cb: ICreatejsInteractionEventDelegate) {\r\n\t\treturn (e: any) => {\r\n\t\t\te.currentTarget = e.currentTarget.createjs;\r\n\t\t\t\r\n\t\t\te.target = e.currentTarget.createjs;\r\n\t\t\tconst ev = e.data;\r\n\t\t\te.rawX = ev.global.x;\r\n\t\t\te.rawY = ev.global.y;\r\n\t\t\t\r\n\t\t\tthis._isDown = true;\r\n\t\t\t\r\n\t\t\tcb(e);\r\n\t\t};\r\n\t}\r\n\t\r\n\tprivate _rolloutFactory(cjs: TCreatejsObject, cb: ICreatejsInteractionEventDelegate) {\r\n\t\treturn (e: any) => {\r\n\t\t\te.currentTarget = e.currentTarget.createjs;\r\n\t\t\t\r\n\t\t\te.target = e.currentTarget.createjs;\r\n\t\t\tconst ev = e.data;\r\n\t\t\te.rawX = ev.global.x;\r\n\t\t\te.rawY = ev.global.y;\r\n\t\t\t\r\n\t\t\tthis._isDown = true;\r\n\t\t\t\r\n\t\t\tcb(e);\r\n\t\t};\r\n\t}\r\n\t\r\n\tprivate _pressmoveFactory(cjs: TCreatejsObject, cb: ICreatejsInteractionEventDelegate) {\r\n\t\treturn (e: any) => {\r\n\t\t\tif (!this._isDown) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\te.currentTarget = cjs;\r\n\t\t\t\r\n\t\t\te.target = e.target && e.target.createjs;\r\n\t\t\tconst ev = e.data;\r\n\t\t\te.rawX = ev.global.x;\r\n\t\t\te.rawY = ev.global.y;\r\n\t\t\t\r\n\t\t\tcb(e);\r\n\t\t};\r\n\t}\r\n\t\r\n\tprivate _pressupFactory(cjs: TCreatejsObject, cb: ICreatejsInteractionEventDelegate) {\r\n\t\treturn (e: any) => {\r\n\t\t\tif (!this._isDown) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\te.currentTarget = cjs;\r\n\t\t\t\r\n\t\t\tthis._isDown = false;\r\n\t\t\t\r\n\t\t\te.target = e.target && e.target.createjs;\r\n\t\t\tconst ev = e.data;\r\n\t\t\te.rawX = ev.global.x;\r\n\t\t\te.rawY = ev.global.y;\r\n\t\t\t\r\n\t\t\tcb(e);\r\n\t\t};\r\n\t}\r\n}\r\n\r\nexport interface ICreatejsDisplayObjectClass<T = TCreatejsDisplayObject> {\r\n\tnew (...args: any[]): T;\r\n}\r\n\r\nexport function mixinCreatejsDisplayObject<TPixiContainer extends Container, TCreatejsParam extends ICreatejsParam, TBase extends ICreatejsDisplayObjectClass = ICreatejsDisplayObjectClass>(Base: TBase) {\r\n\treturn class C extends Base {\r\n\t\tprotected _pixiData: IPixiData<TPixiContainer>;\r\n\t\tprotected _createjsParams: TCreatejsParam;\r\n\t\tprivate _createjsEventManager: EventManager;\r\n\t\t\r\n\t\tconstructor(...args: any[]) {\r\n\t\t\tsuper(...args);\r\n\t\t\t\r\n\t\t\tthis._createjsEventManager = new EventManager(this);\r\n\t\t}\r\n\t\t\r\n\t\tinitialize(...args: any[]) {\r\n\t\t\tthis._createjsEventManager = new EventManager(this);\r\n\t\t\treturn super.initialize(...args);\r\n\t\t}\r\n\t\t\r\n\t\tget pixi() {\r\n\t\t\treturn this._pixiData.instance;\r\n\t\t}\r\n\t\t\r\n\t\tupdateForPixi(e: ITickerData) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\tget x() {\r\n\t\t\treturn this._createjsParams.x;\r\n\t\t}\r\n\t\t\r\n\t\tset x(value) {\r\n\t\t\tthis._pixiData.instance.x = value;\r\n\t\t\tthis._createjsParams.x = value;\r\n\t\t}\r\n\t\t\r\n\t\tget y() {\r\n\t\t\treturn this._createjsParams.y;\r\n\t\t}\r\n\t\t\r\n\t\tset y(value) {\r\n\t\t\tthis._pixiData.instance.y = value;\r\n\t\t\tthis._createjsParams.y = value;\r\n\t\t}\r\n\t\t\r\n\t\tget scaleX() {\r\n\t\t\treturn this._createjsParams.scaleX;\r\n\t\t}\r\n\t\t\t\r\n\t\tset scaleX(value) {\r\n\t\t\tthis._pixiData.instance.scale.x = value;\r\n\t\t\tthis._createjsParams.scaleX = value;\r\n\t\t}\r\n\t\t\r\n\t\tget scaleY() {\r\n\t\t\treturn this._createjsParams.scaleY;\r\n\t\t}\r\n\t\t\r\n\t\tset scaleY(value) {\r\n\t\t\tthis._pixiData.instance.scale.y = value;\r\n\t\t\tthis._createjsParams.scaleY = value;\r\n\t\t}\r\n\t\t\r\n\t\tget skewX() {\r\n\t\t\treturn this._createjsParams.skewX;\r\n\t\t}\r\n\t\t\r\n\t\tset skewX(value) {\r\n\t\t\tthis._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n\t\t\tthis._createjsParams.skewX = value;\r\n\t\t}\r\n\t\t\r\n\t\tget skewY() {\r\n\t\t\treturn this._createjsParams.skewY;\r\n\t\t}\r\n\t\t\r\n\t\tset skewY(value) {\r\n\t\t\tthis._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n\t\t\tthis._createjsParams.skewY = value;\r\n\t\t}\r\n\t\t\r\n\t\tget regX() {\r\n\t\t\treturn this._createjsParams.regX;\r\n\t\t}\r\n\t\t\r\n\t\tset regX(value) {\r\n\t\t\tthis._pixiData.regObj.x = value;\r\n\t\t\tthis._createjsParams.regX = value;\r\n\t\t}\r\n\t\t\r\n\t\tget regY() {\r\n\t\t\treturn this._createjsParams.regY;\r\n\t\t}\r\n\t\t\r\n\t\tset regY(value) {\r\n\t\t\tthis._pixiData.regObj.y = value;\r\n\t\t\tthis._createjsParams.regY = value;\r\n\t\t}\r\n\t\t\r\n\t\tget rotation() {\r\n\t\t\treturn this._createjsParams.rotation;\r\n\t\t}\r\n\t\t\r\n\t\tset rotation(value) {\r\n\t\t\tthis._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n\t\t\tthis._createjsParams.rotation = value;\r\n\t\t}\r\n\t\t\r\n\t\tget visible() {\r\n\t\t\treturn this._createjsParams.visible;\r\n\t\t}\r\n\t\t\r\n\t\tset visible(value) {\r\n\t\t\tvalue = !!value;\r\n\t\t\tthis._pixiData.instance.visible = value;\r\n\t\t\tthis._createjsParams.visible = value;\r\n\t\t}\r\n\t\t\r\n\t\tget alpha() {\r\n\t\t\treturn this._createjsParams.alpha;\r\n\t\t}\r\n\t\t\r\n\t\tset alpha(value) {\r\n\t\t\tthis._pixiData.instance.alpha = value;\r\n\t\t\tthis._createjsParams.alpha = value;\r\n\t\t}\r\n\t\t\r\n\t\tget _off() {\r\n\t\t\treturn this._createjsParams._off;\r\n\t\t}\r\n\t\t\r\n\t\tset _off(value) {\r\n\t\t\tthis._pixiData.instance.renderable = !value;\r\n\t\t\tthis._createjsParams._off = value;\r\n\t\t}\r\n\t\t/*\r\n\t\tdispatchEvent: {\r\n\t\t\tdispatchEvent(eventObj, bubbles, cancelable) {\r\n\t\t\t\tvar type = eventObj typeof 'string' ? eventObj : eventObj.type;\r\n\t\t\t\t\r\n\t\t\t\tthis._pixiData.instance.emit(type, eventObj);\r\n\t\t\t\t\r\n\t\t\t\treturn createjs.DisplayObject.prototype.dispatchEvent.apply(this, arguments);\r\n\t\t\t}\r\n\t\t},\r\n\t\t*/\r\n\t\taddEventListener(type: TCreatejsInteractionEvent | string, cb: ICreatejsInteractionEventDelegate | CreatejsButtonHelper, ...args: any[]) {\r\n\t\t\tif (!(cb instanceof CreatejsButtonHelper)) {\r\n\t\t\t\tif (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n\t\t\t\t\tthis._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn super.addEventListener(type, cb, ...args);\r\n\t\t}\r\n\t\t\r\n\t\tremoveEventListener(type: TCreatejsInteractionEvent | string, cb: ICreatejsInteractionEventDelegate, ...args: any[]) {\r\n\t\t\tif (!(cb instanceof CreatejsButtonHelper)) {\r\n\t\t\t\tif (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n\t\t\t\t\tthis._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn super.removeEventListener(type, cb, ...args);\r\n\t\t}\r\n\t\t\r\n\t\tget mask() {\r\n\t\t\treturn this._createjsParams.mask;\r\n\t\t}\r\n\t\t\r\n\t\tset mask(value: CreatejsShape | null) {\r\n\t\t\tif (value) {\r\n\t\t\t\tvalue.masked.push(this._pixiData.instance);\r\n\t\t\t\tthis._pixiData.instance.mask = value.pixi;\r\n\t\t\t\t\r\n\t\t\t\tthis._pixiData.instance.once('added', function() {\r\n\t\t\t\t\tthis.parent.addChild(value.pixi);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis._pixiData.instance.mask = null;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis._createjsParams.mask = value;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport type TCreatejsObject =\r\n\tCreatejsStage\r\n\t| CreatejsStageGL\r\n\t| CreatejsMovieClip\r\n\t| CreatejsSprite\r\n\t| CreatejsShape\r\n\t| CreatejsBitmap\r\n\t| CreatejsGraphics\r\n\t| CreatejsText;\r\n\r\nexport function createCreatejsParams(): ICreatejsParam {\r\n\treturn {\r\n\t\tx: 0,\r\n\t\ty: 0,\r\n\t\tscaleX: 0,\r\n\t\tscaleY: 0,\r\n\t\tregX: 0,\r\n\t\tregY: 0,\r\n\t\tskewX: 0,\r\n\t\tskewY: 0,\r\n\t\trotation: 0,\r\n\t\tvisible: true,\r\n\t\talpha: 1,\r\n\t\t_off: false,\r\n\t\tmask: null,\r\n\t\tfilters: null\r\n\t};\r\n}\r\n\r\nexport function updateDisplayObjectChildren(cjs: TCreatejsObject, e: ITickerData) {\r\n\tconst list = cjs.children.slice();\r\n\tfor (let i = 0,l = list.length; i < l; i++) {\r\n\t\tconst child = list[i];\r\n\t\tif (!child.isVisible()) { continue; }\r\n\t\t//child.draw();\r\n\t\tchild.updateForPixi(e);\r\n\t}\r\n\t\r\n\treturn true;\r\n}","import { createjs } from './alias';\r\nimport { updateDisplayObjectChildren, ITickerData, mixinPixiContainer, mixinCreatejsDisplayObject } from './core';\r\n\r\n/**\r\n * @ognore\r\n */\r\ndeclare const window: any;\r\n\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Stage.html | createjs.Stage]]\r\n */\r\nexport class CreatejsStage extends createjs.Stage {\r\n\tupdateForPixi(props: ITickerData) {\r\n\t\tif (this.tickOnUpdate) { this.tick(props); }\r\n\t\tthis.dispatchEvent(\"drawstart\");\r\n\t\tupdateDisplayObjectChildren(this, props);\r\n\t\tthis.dispatchEvent(\"drawend\");\r\n\t}\r\n}","import { createjs } from './alias';\r\nimport { updateDisplayObjectChildren, ITickerData, mixinPixiContainer, mixinCreatejsDisplayObject } from './core';\r\n\r\n/**\r\n * @ognore\r\n */\r\ndeclare const window: any;\r\n\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/StageGL.html | createjs.StageGL]]\r\n */\r\nexport class CreatejsStageGL extends createjs.StageGL {\r\n\tupdateForPixi(props: ITickerData) {\r\n\t\tif (this.tickOnUpdate) { this.tick(props); }\r\n\t\tthis.dispatchEvent(\"drawstart\");\r\n\t\tupdateDisplayObjectChildren(this, props);\r\n\t\tthis.dispatchEvent(\"drawend\");\r\n\t}\r\n}","import { Container, filters } from 'pixi.js';\r\nimport { createjs } from './alias';\r\nimport { CreatejsColorFilter } from './ColorFilter';\r\nimport { createPixiData, createCreatejsParams, IPixiData, ICreatejsParam, updateDisplayObjectChildren, ITickerData, mixinCreatejsDisplayObject, mixinPixiContainer } from './core';\r\nimport { appendDisplayObjectDescriptor } from './append';\r\n\r\n/**\r\n * @ignore\r\n */\r\ndeclare const window: any;\r\n\r\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container]]\r\n */\r\nexport class PixiMovieClip extends mixinPixiContainer(Container) {\r\n\tprivate _createjs: CreatejsMovieClip | {};\r\n\tprivate _filterContainer: Container | null;\r\n\t\r\n\tconstructor(cjs: CreatejsMovieClip | {}) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis._createjs = cjs;\r\n\t}\r\n\t\r\n\tget filterContainer() {\r\n\t\treturn this._filterContainer;\r\n\t}\r\n\t\r\n\tset filterContainer(value) {\r\n\t\tthis._filterContainer = value;\r\n\t}\r\n\t\r\n\tget createjs() {\r\n\t\treturn this._createjs;\r\n\t}\r\n}\r\n\r\nexport interface ICreatejsMovieClipParam extends ICreatejsParam {\r\n\r\n}\r\n\r\nexport interface IPixiMoveClipData extends IPixiData<PixiMovieClip> {\r\n\tsubInstance: Container;\r\n}\r\n\r\nfunction createPixiMovieClipData(cjs: CreatejsMovieClip | {}): IPixiMoveClipData {\r\n\tconst pixi = new PixiMovieClip(cjs);\r\n\t\r\n\treturn Object.assign(createPixiData(pixi, pixi.pivot), {\r\n\t\tsubInstance: pixi\r\n\t});\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nlet _funcFlag = true;\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst P = createjs.Bitmap;\r\n\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/MovieClip.html | createjs.MovieClip]]\r\n */\r\nexport class CreatejsMovieClip extends mixinCreatejsDisplayObject<PixiMovieClip, ICreatejsMovieClipParam>(createjs.MovieClip) {\r\n\tprotected _createjsParams: ICreatejsMovieClipParam;\r\n\tprotected _pixiData: IPixiMoveClipData;\r\n\tpublic updateForPixi: (e: ITickerData) => boolean;\r\n\t\r\n\tconstructor(...args: any[]) {\r\n\t\tsuper(...args);\r\n\t\t\r\n\t\tthis._initForPixi();\r\n\t\t\r\n\t\tP.apply(this, args);\r\n\t}\r\n\t\r\n\tget filters() {\r\n\t\treturn this._createjsParams.filters;\r\n\t}\r\n\t\r\n\tset filters(value: CreatejsColorFilter[]) {\r\n\t\tif (value) {\r\n\t\t\tconst list = [];\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < value.length; i++) {\r\n\t\t\t\tconst f = value[i];\r\n\t\t\t\t\r\n\t\t\t\tif (f instanceof createjs.ColorMatrixFilter) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst m = new filters.ColorMatrixFilter();\r\n\t\t\t\tm.matrix = [\r\n\t\t\t\t\tf.redMultiplier, 0, 0, 0, f.redOffset / 255,\r\n\t\t\t\t\t0, f.greenMultiplier, 0, 0, f.greenOffset / 255,\r\n\t\t\t\t\t0, 0, f.blueMultiplier, 0, f.blueOffset / 255,\r\n\t\t\t\t\t0, 0, 0, f.alphaMultiplier, f.alphaOffset / 255,\r\n\t\t\t\t\t0, 0, 0, 0, 1\r\n\t\t\t\t];\r\n\t\t\t\tlist.push(m);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar o = this._pixiData.instance;\r\n\t\t\tvar c = o.children;\r\n\t\t\tvar n = new Container();\r\n\t\t\tvar nc = this._pixiData.subInstance = n.addChild(new Container());\r\n\t\t\t\r\n\t\t\twhile (c.length) {\r\n\t\t\t\tnc.addChild(c[0]);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\to.addChild(n);\r\n\t\t\to.filterContainer = nc;\r\n\t\t\t\r\n\t\t\tnc.updateTransform();\r\n\t\t\tnc.calculateBounds();\r\n\t\t\t\r\n\t\t\tconst b = nc.getLocalBounds();\r\n\t\t\tconst x = b.x;\r\n\t\t\tconst y = b.y;\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < nc.children.length; i++) {\r\n\t\t\t\tconst child = nc.children[i];\r\n\t\t\t\t\r\n\t\t\t\tchild.x -= x;\r\n\t\t\t\tchild.y -= y;\r\n\t\t\t\t\r\n\t\t\t\tif (child instanceof PixiMovieClip) {\r\n\t\t\t\t\tconst fc = child.filterContainer;\r\n\t\t\t\t\tif (fc) {\r\n\t\t\t\t\t\tfc.cacheAsBitmap = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tn.x = x;\r\n\t\t\tn.y = y;\r\n\t\t\t\r\n\t\t\tnc.filters = list;\r\n\t\t\tnc.cacheAsBitmap = true;\r\n\t\t} else {\r\n\t\t\tconst o = this._pixiData.instance;\r\n\t\t\t\r\n\t\t\tif (o.filterContainer) {\r\n\t\t\t\tconst nc = this._pixiData.subInstance;\r\n\t\t\t\tconst n = nc.parent;\r\n\t\t\t\tconst c = nc.children;\r\n\t\t\t\t\r\n\t\t\t\to.removeChildren();\r\n\t\t\t\to.filterContainer = null;\r\n\t\t\t\twhile (c.length) {\r\n\t\t\t\t\tconst v = o.addChild(c[0]);\r\n\t\t\t\t\tv.x += n.x;\r\n\t\t\t\t\tv.y += n.y;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tnc.filters = null;\r\n\t\t\t\tnc.cacheAsBitmap = false;\r\n\t\t\t\t\r\n\t\t\t\tthis._pixiData.subInstance = o;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tthis._createjsParams.filters = value;\r\n\t}\r\n\t\r\n\tprotected _initForPixi() {\r\n\t\tthis._createjsParams = createCreatejsParams();\r\n\t\tthis._pixiData = createPixiMovieClipData(this);\r\n\t\t\r\n\t\tif (!_funcFlag) {\r\n\t\t\tthis.updateForPixi = this._updateForPixiUnsynched;\r\n\t\t} else {\r\n\t\t\tthis.updateForPixi = this._updateForPixiSynched;\r\n\t\t}\r\n\t}\r\n\t\r\n\tinitialize(...args: any[]) {\r\n\t\tthis._initForPixi();\r\n\t\t\r\n\t\t//if (!this._createjsEventManager) {\r\n\t\t//\tconsole.log(this instanceof createjs.MovieClip)\r\n\t\t//\tthrow new Error\r\n\t\t//}\r\n\t\treturn super.initialize(...args);\r\n\t}\r\n\t\r\n\taddChild(child) {\r\n\t\tthis._pixiData.subInstance.addChild(child._pixiData.instance);\r\n\t\t\r\n\t\treturn super.addChild(child);\r\n\t}\r\n\t\r\n\taddChildAt(child, index) {\r\n\t\tthis._pixiData.subInstance.addChildAt(child._pixiData.instance, index);\r\n\t\t\r\n\t\treturn super.addChildAt(child, index);\r\n\t}\r\n\t\r\n\tremoveChild(child) {\r\n\t\tthis._pixiData.subInstance.removeChild(child._pixiData.instance);\r\n\t\t\r\n\t\treturn super.removeChild(child);\r\n\t}\r\n\t\r\n\tremoveChildAt(index) {\r\n\t\tthis._pixiData.subInstance.removeChildAt(index);\r\n\t\t\r\n\t\treturn super.removeChildAt(index);\r\n\t}\r\n\t\r\n\tremoveAllChldren() {\r\n\t\tthis._pixiData.subInstance.removeChildren();\r\n\t\t\r\n\t\treturn super.removeAllChldren();\r\n\t}\r\n\t\r\n\tget pixi() {\r\n\t\treturn this._pixiData.instance;\r\n\t}\r\n\t\r\n\tstatic selectUpdateFunc(flag: boolean) {\r\n\t\t_funcFlag = flag;\r\n\t}\r\n\t\r\n\tprotected _updateForPixiSynched(e: ITickerData) {\r\n\t\tthis._updateState();\r\n\t\t\r\n\t\treturn updateDisplayObjectChildren(this, e);\r\n\t}\r\n\t\r\n\tprotected _updateForPixiUnsynched(e: ITickerData) {\r\n\t\treturn this._tick(e);\r\n\t}\r\n}\r\n\r\n// temporary prototype\r\nObject.defineProperties(CreatejsMovieClip.prototype, {\r\n\t_createjsParams: {\r\n\t\tvalue: createCreatejsParams(),\r\n\t\twritable: true\r\n\t},\r\n\t_pixiData: {\r\n\t\tvalue: createPixiMovieClipData({}),\r\n\t\twritable: true\r\n\t}\r\n});","import * as PIXI from 'pixi.js';\r\nimport { createjs } from './alias';\r\nimport { createPixiData, createCreatejsParams, IPixiData, ICreatejsParam, ITickerData, mixinPixiContainer, mixinCreatejsDisplayObject } from './core';\r\nimport { appendDisplayObjectDescriptor } from './append';\r\n\r\n/**\r\n * @ignore\r\n */\r\ndeclare const window: any;\r\n\r\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Sprite.html | PIXI.Sprite]]\r\n */\r\nexport class PixiSprite extends mixinPixiContainer(PIXI.Sprite) {\r\n\tprivate _createjs: CreatejsSprite | {};\r\n\t\r\n\tconstructor(cjs: CreatejsSprite | {}) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis._createjs = cjs;\r\n\t}\r\n\t\r\n\tget createjs() {\r\n\t\treturn this._createjs;\r\n\t}\r\n}\r\n\r\nexport interface ICreatejsSpriteParam extends ICreatejsParam {\r\n\r\n}\r\n\r\nexport interface IPixiSpriteData extends IPixiData<PixiSprite> {\r\n\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiSpriteData(cjs: CreatejsSprite | {}): IPixiSpriteData {\r\n\tconst pixi = new PixiSprite(cjs);\r\n\t\r\n\treturn createPixiData(pixi, pixi.anchor)\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst P = createjs.Sprite;\r\n\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Sprite.html | createjs.Sprite]]\r\n */\r\nexport class CreatejsSprite extends mixinCreatejsDisplayObject<PixiSprite, ICreatejsSpriteParam>(createjs.Sprite) {\r\n\tprotected _createjsParams: ICreatejsSpriteParam;\r\n\tprotected _pixiData: IPixiSpriteData;\r\n\t\r\n\tconstructor(...args: any[]) {\r\n\t\tsuper(...args);\r\n\t\t\r\n\t\tthis._initForPixi();\r\n\t\t\r\n\t\tP.apply(this, args);\r\n\t}\r\n\t\r\n\tprotected _initForPixi() {\r\n\t\tthis._createjsParams = createCreatejsParams();\r\n\t\tthis._pixiData = createPixiSpriteData(this);\r\n\t}\r\n\t\r\n\tinitialize(...args: any[]) {\r\n\t\tthis._initForPixi();\r\n\t\t\r\n\t\treturn super.initialize(...args);\r\n\t}\r\n\t\r\n\tgotoAndStop(...args: any[]) {\r\n\t\tsuper.gotoAndStop(...args);\r\n\t\t\r\n\t\tconst frame = this.spriteSheet.getFrame(this.currentFrame);\r\n\t\tconst baseTexture = PIXI.BaseTexture.from(frame.image);\r\n\t\tconst texture = new PIXI.Texture(baseTexture, frame.rect);\r\n\t\t\r\n\t\tthis._pixiData.instance.texture = texture;\r\n\t}\r\n\t\r\n\tget pixi() {\r\n\t\treturn this._pixiData.instance;\r\n\t}\r\n\t\r\n\tupdateForPixi(e: ITickerData) {\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\n// temporary prototype\r\nObject.defineProperties(CreatejsSprite.prototype, {\r\n\t_createjsParams: {\r\n\t\tvalue: createCreatejsParams(),\r\n\t\twritable: true\r\n\t},\r\n\t_pixiData: {\r\n\t\tvalue: createPixiSpriteData({}),\r\n\t\twritable: true\r\n\t}\r\n});","import * as PIXI from 'pixi.js';\r\nimport { createjs } from './alias';\r\nimport { createPixiData, createCreatejsParams, IPixiData, ICreatejsParam, ITickerData, mixinPixiContainer, mixinCreatejsDisplayObject } from './core';\r\nimport { appendDisplayObjectDescriptor } from './append';\r\nimport { CreatejsGraphics } from './Graphics';\r\n\r\n/**\r\n * @ignore\r\n */\r\ndeclare const window: any;\r\n\r\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container]]\r\n */\r\nexport class PixiShape extends mixinPixiContainer(PIXI.Container) {\r\n\tprivate _createjs: CreatejsShape | {};\r\n\t\r\n\tconstructor(cjs: CreatejsShape | {}) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis._createjs = cjs;\r\n\t}\r\n\t\r\n\tget createjs() {\r\n\t\treturn this._createjs;\r\n\t}\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsShapeParam(graphics: CreatejsGraphics | null): ICreatejsShapeParam {\r\n\treturn Object.assign(createCreatejsParams(), {\r\n\t\tgraphics: graphics\r\n\t});\r\n}\r\n\r\nexport interface ICreatejsShapeParam extends ICreatejsParam {\r\n\tgraphics: CreatejsGraphics;\r\n}\r\n\r\nexport interface IPixiShapeData extends IPixiData<PixiShape> {\r\n\t/**\r\n\t * [[http://pixijs.download/release/docs/PIXI.DisplayObject.html | PIXI.DisplayObject]]\r\n\t */\r\n\tmasked: PIXI.DisplayObject[];\r\n};\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiSpaheData(cjs: CreatejsShape | {}): IPixiShapeData {\r\n\tconst pixi = new PixiShape(cjs);\r\n\t\r\n\treturn Object.assign(createPixiData(pixi, pixi.pivot), {\r\n\t\tmasked: []\r\n\t});\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst P = createjs.Shape;\r\n\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Shape.html | createjs.Shape]]\r\n */\r\nexport class CreatejsShape extends mixinCreatejsDisplayObject<PixiShape, ICreatejsShapeParam>(createjs.Shape) {\r\n\tprotected _createjsParams: ICreatejsShapeParam;\r\n\tprotected _pixiData: IPixiShapeData;\r\n\t\r\n\tconstructor(...args: any[]) {\r\n\t\tsuper(...args);\r\n\t\t\r\n\t\tthis._initForPixi();\r\n\t\t\r\n\t\tP.apply(this, args);\r\n\t}\r\n\t\r\n\tprotected _initForPixi() {\r\n\t\tthis._createjsParams = createCreatejsShapeParam(null);\r\n\t\tthis._pixiData = createPixiSpaheData(this);\r\n\t}\r\n\t\r\n\tget graphics() {\r\n\t\treturn this._createjsParams.graphics;\r\n\t}\r\n\t\r\n\tset graphics(value) {\r\n\t\tif (this._pixiData.masked.length) {\r\n\t\t\tthis._pixiData.instance.removeChildren();\r\n\t\t\t\r\n\t\t\tif (value) {\r\n\t\t\t\tfor (let i = 0; i < this._pixiData.masked.length; i++) {\r\n\t\t\t\t\tthis._pixiData.masked[i].mask = this._pixiData.instance;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor (let i = 0; i < this._pixiData.masked.length; i++) {\r\n\t\t\t\t\tthis._pixiData.masked[i].mask = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (value) {\r\n\t\t\tthis._pixiData.instance.addChild(value.pixi);\r\n\t\t}\r\n\t\t\r\n\t\tthis._createjsParams.graphics = value;\r\n\t}\r\n\t\r\n\tget pixi() {\r\n\t\treturn this._pixiData.instance;\r\n\t}\r\n\t\r\n\tget masked() {\r\n\t\treturn this._pixiData.masked;\r\n\t}\r\n\t\r\n\tupdateForPixi(e: ITickerData) {\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\n// temporary prototype\r\nObject.defineProperties(CreatejsShape.prototype, {\r\n\t_createjsParams: {\r\n\t\tvalue: createCreatejsShapeParam(null),\r\n\t\twritable: true\r\n\t},\r\n\t_pixiData: {\r\n\t\tvalue: createPixiSpaheData({}),\r\n\t\twritable: true\r\n\t}\r\n});","import * as PIXI from 'pixi.js';\r\nimport { createjs } from './alias';\r\nimport { createPixiData, createCreatejsParams, IPixiData, ICreatejsParam, ITickerData, mixinPixiContainer, mixinCreatejsDisplayObject } from './core';\r\nimport { appendDisplayObjectDescriptor } from './append';\r\n\r\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Sprite.html | PIXI.Sprite]]\r\n */\r\nexport class PixiBitmap extends mixinPixiContainer(PIXI.Sprite) {\r\n\tprivate _createjs: CreatejsBitmap | {};\r\n\t\r\n\tconstructor(cjs: CreatejsBitmap | {}) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis._createjs = cjs;\r\n\t}\r\n\t\r\n\tget createjs() {\r\n\t\treturn this._createjs;\r\n\t}\r\n}\r\n\r\nexport interface ICreatejsBitmapParam extends ICreatejsParam {\r\n\r\n}\r\n\r\n\r\nexport interface IPixiBitmapData extends IPixiData<PixiBitmap> {\r\n\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiBitmapData(cjs: CreatejsBitmap | {}): IPixiBitmapData {\r\n\tconst pixi = new PixiBitmap(cjs);\r\n\t\r\n\treturn createPixiData<PixiBitmap>(pixi, pixi.anchor);\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsBitmapParams(): ICreatejsBitmapParam {\r\n\treturn createCreatejsParams();\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst P = createjs.Bitmap;\r\n\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Bitmap.html | createjs.Bitmap]]\r\n */\r\nexport class CreatejsBitmap extends mixinCreatejsDisplayObject<PixiBitmap, ICreatejsBitmapParam>(createjs.Bitmap) {\r\n\tconstructor(...args: any[]) {\r\n\t\tsuper(...args);\r\n\t\t\r\n\t\tthis._initForPixi();\r\n\t\t\r\n\t\tP.apply(this, args);\r\n\t}\r\n\t\r\n\tprivate _initForPixi() {\r\n\t\tthis._pixiData = createPixiBitmapData(this);\r\n\t\tthis._createjsParams = createCreatejsBitmapParams();\r\n\t}\r\n\t\r\n\tinitialize(...args: any[]) {\r\n\t\tthis._initForPixi();\r\n\t\t\r\n\t\tconst res = super.initialize(...args);\r\n\t\t\r\n\t\tconst texture = PIXI.Texture.from(this.image);\r\n\t\t\r\n\t\tthis._pixiData.instance.texture = texture;\r\n\t\t\r\n\t\treturn res;\r\n\t}\r\n}\r\n\r\n// temporary prototype\r\nObject.defineProperties(CreatejsBitmap.prototype, {\r\n\t_createjsParams: {\r\n\t\tvalue: createCreatejsParams(),\r\n\t\twritable: true\r\n\t},\r\n\t_pixiData: {\r\n\t\tvalue: createPixiBitmapData({}),\r\n\t\twritable: true\r\n\t}\r\n});","import * as PIXI from 'pixi.js';\r\nimport { createjs } from './alias';\r\nimport { createPixiData, createCreatejsParams, IPixiData, ICreatejsParam,  ITickerData, mixinPixiContainer, mixinCreatejsDisplayObject } from './core';\r\nimport { appendDisplayObjectDescriptor } from './append';\r\n\r\n/**\r\n * @ignore\r\n */\r\ndeclare const window: any;\r\n\r\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Graphics.html | PIXI.Graphics]]\r\n */\r\nexport class PixiGraphics extends mixinPixiContainer(PIXI.Graphics) {\r\n\tprivate _createjs: CreatejsGraphics | {};\r\n\t\r\n\tconstructor(cjs: CreatejsGraphics | {}) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis._createjs = cjs;\r\n\t}\r\n\t\r\n\tget createjs() {\r\n\t\treturn this._createjs;\r\n\t}\r\n}\r\n\r\nexport interface ICreatejsGraphicsParam extends ICreatejsParam {\r\n\r\n}\r\n\r\nexport interface IPixiGraphicsData extends IPixiData<PixiGraphics> {\r\n\tstrokeFill: number;\r\n\tstrokeAlpha: number;\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createGraphicsPixiData(cjs: CreatejsGraphics | {}): IPixiGraphicsData {\r\n\tconst pixi = new PixiGraphics(cjs);\r\n\t\r\n\treturn Object.assign(createPixiData(pixi, pixi.pivot), {\r\n\t\tstrokeFill: 0,\r\n\t\tstrokeAlpha: 1\r\n\t});\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst COLOR_RED = 16 * 16 * 16 * 16;\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst COLOR_GREEN = 16 * 16;\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst LineCap = {\r\n\t0: PIXI.LINE_CAP.BUTT,\r\n\t1: PIXI.LINE_CAP.ROUND,\r\n\t2: PIXI.LINE_CAP.SQUARE\r\n};\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst LineJoin = {\r\n\t0: PIXI.LINE_JOIN.MITER,\r\n\t1: PIXI.LINE_JOIN.ROUND,\r\n\t2: PIXI.LINE_JOIN.BEVEL\r\n};\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst DEG_TO_RAD = Math.PI / 180;\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst P = createjs.Graphics;\r\n\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Graphics.html | createjs.Graphics]]\r\n */\r\nexport class CreatejsGraphics extends mixinCreatejsDisplayObject<PixiGraphics, ICreatejsGraphicsParam>(createjs.Graphics) {\r\n\tprotected _createjsParams: ICreatejsGraphicsParam;\r\n\tprotected _pixiData: IPixiGraphicsData;\r\n\t\r\n\tconstructor(...args: any[]) {\r\n\t\tsuper(...args);\r\n\t\t\r\n\t\tthis._initForPixi();\r\n\t\t\r\n\t\tP.apply(this, args);\r\n\t\t\r\n\t\tthis._pixiData.instance.beginFill(0xFFEEEE, 1);\r\n\t\tthis._pixiData.strokeFill = 0;\r\n\t\tthis._pixiData.strokeAlpha = 1;\r\n\t}\r\n\t\r\n\tprotected _initForPixi() {\r\n\t\tthis._createjsParams = createCreatejsParams();\r\n\t\tthis._pixiData = createGraphicsPixiData(this);\r\n\t}\r\n\t\r\n\tmoveTo(x, y) {\r\n\t\tif (this._pixiData.instance.clone().endFill().containsPoint({x: x, y: y})) {\r\n\t\t\tthis._pixiData.instance.beginHole();\r\n\t\t} else {\r\n\t\t\tthis._pixiData.instance.endHole();\r\n\t\t}\r\n\t\t\r\n\t\tthis._pixiData.instance.moveTo(x, y);\r\n\t\t\r\n\t\treturn super.moveTo(x, y);\r\n\t}\r\n\t\r\n\tlineTo(x, y) {\r\n\t\tthis._pixiData.instance.lineTo(x, y);\r\n\t\t\r\n\t\treturn super.lineTo(x, y);\r\n\t}\r\n\t\r\n\tarcTo(x1, y1, x2, y2, radius) {\r\n\t\tthis._pixiData.instance.arcTo(x1, y1, x2, y2, radius);\r\n\t\t\r\n\t\treturn super.arcTo(x1, y1, x2, y2, radius);\r\n\t}\r\n\t\r\n\tarc(x, y, radius, startAngle, endAngle, anticlockwise) {\r\n\t\tthis._pixiData.instance.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n\t\t\r\n\t\treturn super.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n\t}\r\n\t\r\n\tquadraticCurveTo(cpx, cpy, x, y) {\r\n\t\tthis._pixiData.instance.quadraticCurveTo(cpx, cpy, x, y);\r\n\t\t\r\n\t\treturn super.quadraticCurveTo(cpx, cpy, x, y);\r\n\t}\r\n\t\r\n\tbezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y) {\r\n\t\tthis._pixiData.instance.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n\t\t\r\n\t\treturn super.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n\t}\r\n\t\r\n\trect(x, y, w, h) {\r\n\t\tthis._pixiData.instance.drawRect(x, y, w, h);\r\n\t\t\r\n\t\treturn super.rect(x, y, w, h);\r\n\t}\r\n\t\r\n\tclosePath() {\r\n\t\tthis._pixiData.instance.closePath();\r\n\t\t\r\n\t\treturn super.closePath();\r\n\t}\r\n\t\r\n\tclear() {\r\n\t\tthis._pixiData.instance.clear();\r\n\t\t\r\n\t\treturn super.clear();\r\n\t}\r\n\t\r\n\t_parseColor(color) {\r\n\t\tconst res = {\r\n\t\t\tcolor: 0,\r\n\t\t\talpha: 1\r\n\t\t};\r\n\t\t\r\n\t\tif (!color) {\r\n\t\t\tres.alpha = 0;\r\n\t\t\treturn res;\r\n\t\t}\r\n\t\t\r\n\t\tif (color.charAt(0) === '#') {\r\n\t\t\tres.color = parseInt(color.slice(1), 16);\r\n\t\t\treturn res;\r\n\t\t}\r\n\t\t\r\n\t\tconst colors = color.replace(/rgba|\\(|\\)|\\s/g, '').split(',');\r\n\t\t\r\n\t\tres.color = Number(colors[0]) * COLOR_RED + Number(colors[1]) * COLOR_GREEN + Number(colors[2]);\r\n\t\tres.alpha = Number(colors[3]);\r\n\t\t\r\n\t\treturn res;\r\n\t}\r\n\t\r\n\tbeginFill(color) {\r\n\t\tconst c = this._parseColor(color);\r\n\t\tthis._pixiData.instance.beginFill(c.color, c.alpha);\r\n\t\t\r\n\t\treturn super.beginFill(color);\r\n\t}\r\n\t\r\n\tendFill() {\r\n\t\tthis._pixiData.instance.endFill();\r\n\t\t\r\n\t\treturn super.endFill();\r\n\t}\r\n\t\r\n\tsetStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale) {\r\n\t\tthis._pixiData.instance.lineTextureStyle({\r\n\t\t\twidth: thickness,\r\n\t\t\tcolor: this._pixiData.strokeFill,\r\n\t\t\talpha: this._pixiData.strokeAlpha,\r\n\t\t\tcap: (caps in LineCap) ? LineCap[caps] : LineCap[0],\r\n\t\t\tjoin: (joints in LineJoin) ? LineJoin[joints] : LineJoin[0],\r\n\t\t\tmiterLimit: miterLimit\r\n\t\t});\r\n\t\t\r\n\t\treturn super.setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale);\r\n\t}\r\n\t\r\n\tbeginStroke(color) {\r\n\t\tconst c = this._parseColor(color);\r\n\t\tthis._pixiData.strokeFill = c.color;\r\n\t\tthis._pixiData.strokeAlpha = c.alpha;\r\n\t\t\r\n\t\treturn super.beginStroke(color);\r\n\t}\r\n\t\r\n\tdrawRoundRect(x, y, w, h, radius) {\r\n\t\tthis._pixiData.instance.drawRoundedRect(x, y, w, h, radius);\r\n\t\t\r\n\t\treturn super.drawRoundRect(x, y, w, h, radius);\r\n\t}\r\n\t\r\n\tdrawCircle(x, y, radius) {\r\n\t\tthis._pixiData.instance.drawCircle(x, y, radius);\r\n\t\t\r\n\t\treturn super.drawCircle(x, y, radius);\r\n\t}\r\n\t\r\n\tdrawEllipse(x, y, w, h) {\r\n\t\tthis._pixiData.instance.drawEllipse(x, y, w, h);\r\n\t\t\r\n\t\treturn super.drawEllipse(x, y, w, h);\r\n\t}\r\n\t\r\n\tdrawPolyStar(x, y, radius, sides, pointSize, angle) {\r\n\t\tthis._pixiData.instance.drawRegularPolygon(x, y, radius, sides, angle * DEG_TO_RAD);\r\n\t\t\r\n\t\treturn super.drawPolyStar(x, y, radius, sides, pointSize, angle);\r\n\t}\r\n\t\r\n\tget pixi() {\r\n\t\treturn this._pixiData.instance;\r\n\t}\r\n\t\r\n\tupdateForPixi(e: ITickerData) {\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\n// alias\r\nObject.defineProperties(CreatejsGraphics.prototype, {\r\n\tcurveTo: {\r\n\t\tvalue: CreatejsGraphics.prototype.quadraticCurveTo\r\n\t},\r\n\t\r\n\tdrawRect: {\r\n\t\tvalue: CreatejsGraphics.prototype.rect\r\n\t},\r\n\t\r\n\tmt: {\r\n\t\tvalue: CreatejsGraphics.prototype.moveTo\r\n\t},\r\n\t\r\n\tlt: {\r\n\t\tvalue: CreatejsGraphics.prototype.lineTo\r\n\t},\r\n\t\r\n\tat: {\r\n\t\tvalue: CreatejsGraphics.prototype.arcTo\r\n\t},\r\n\t\r\n\tbt: {\r\n\t\tvalue: CreatejsGraphics.prototype.bezierCurveTo\r\n\t},\r\n\t\r\n\tqt: {\r\n\t\tvalue: CreatejsGraphics.prototype.quadraticCurveTo\r\n\t},\r\n\t\r\n\ta: {\r\n\t\tvalue: CreatejsGraphics.prototype.arc\r\n\t},\r\n\t\r\n\tr: {\r\n\t\tvalue: CreatejsGraphics.prototype.rect\r\n\t},\r\n\t\r\n\tcp: {\r\n\t\tvalue: CreatejsGraphics.prototype.closePath\r\n\t},\r\n\t\r\n\tc: {\r\n\t\tvalue: CreatejsGraphics.prototype.clear\r\n\t},\r\n\t\r\n\tf: {\r\n\t\tvalue: CreatejsGraphics.prototype.beginFill\r\n\t},\r\n\t\r\n\tef: {\r\n\t\tvalue: CreatejsGraphics.prototype.endFill\r\n\t},\r\n\t\r\n\tss: {\r\n\t\tvalue: CreatejsGraphics.prototype.setStrokeStyle\r\n\t},\r\n\t\r\n\ts: {\r\n\t\tvalue: CreatejsGraphics.prototype.beginStroke\r\n\t},\r\n\t\r\n\tdr: {\r\n\t\tvalue: CreatejsGraphics.prototype.drawRect\r\n\t},\r\n\t\r\n\trr: {\r\n\t\tvalue: CreatejsGraphics.prototype.drawRoundRect\r\n\t},\r\n\t\r\n\tdc: {\r\n\t\tvalue: CreatejsGraphics.prototype.drawCircle\r\n\t},\r\n\t\r\n\tde: {\r\n\t\tvalue: CreatejsGraphics.prototype.drawEllipse\r\n\t},\r\n\t\r\n\tdp: {\r\n\t\tvalue: CreatejsGraphics.prototype.drawPolyStar\r\n\t}\r\n});\r\n\r\n// temporary prototype\r\nObject.defineProperties(CreatejsGraphics.prototype, {\r\n\t_createjsParams: {\r\n\t\tvalue: createCreatejsParams(),\r\n\t\twritable: true\r\n\t},\r\n\t_pixiData: {\r\n\t\tvalue: createGraphicsPixiData({}),\r\n\t\twritable: true\r\n\t}\r\n});","import * as PIXI from 'pixi.js';\r\nimport { createjs } from './alias';\r\nimport { createPixiData, createCreatejsParams, IPixiData, ICreatejsParam, ITickerData, mixinPixiContainer, mixinCreatejsDisplayObject } from './core';\r\nimport { appendDisplayObjectDescriptor } from './append';\r\n\r\n/**\r\n * @ignore\r\n */\r\ndeclare const window: any;\r\n\r\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Text.html | PIXI.Text]]\r\n */\r\nexport class PixiText extends PIXI.Text {}\r\n\r\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container]]\r\n */\r\nexport class PixiTextContainer extends mixinPixiContainer(PIXI.Container) {\r\n\tprivate _createjs: CreatejsText | {};\r\n\tprivate _text: PixiText;\r\n\t\r\n\tconstructor(cjs: CreatejsText | {}, text: PixiText) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis._createjs = cjs;\r\n\t\tthis._text = text;\r\n\t}\r\n\t\r\n\tget createjs() {\r\n\t\treturn this._createjs;\r\n\t}\r\n\t\r\n\tget text() {\r\n\t\treturn this._text;\r\n\t}\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createTextOriginParam(text: string, font: string, color: string): ICreatejsTextParam {\r\n\treturn Object.assign(createCreatejsParams(), {\r\n\t\ttext: text,\r\n\t\tfont: font,\r\n\t\tcolor: color,\r\n\t\ttextAlign: 'left',\r\n\t\tlineHeight: 0,\r\n\t\tlineWidth: 0\r\n\t});\r\n}\r\n\r\nexport interface ICreatejsTextParam extends ICreatejsParam {\r\n\ttext: string;\r\n\tfont: string;\r\n\tcolor: string;\r\n\ttextAlign: string;\r\n\tlineHeight: number;\r\n\tlineWidth: number;\r\n}\r\n\r\nexport interface IPiximTextData extends IPixiData<PixiTextContainer> {\r\n\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiTextData(cjs: CreatejsText | {}, text: PixiText): IPiximTextData {\r\n\tconst pixi = new PixiTextContainer(cjs, text);\r\n\t\r\n\treturn createPixiData(pixi, pixi.pivot);\r\n}\r\n\r\nexport interface IParsedText {\r\n\tfontSize: number;\r\n\tfontFamily: string;\r\n\tfontWeight?: string | number;\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst P = createjs.Text;\r\n\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Text.html | createjs.Text]]\r\n */\r\nexport class CreatejsText extends mixinCreatejsDisplayObject<PixiTextContainer, ICreatejsTextParam>(createjs.Text) {\r\n\tprotected _createjsParams: ICreatejsTextParam;\r\n\tprotected _pixiData: IPiximTextData;\r\n\t\r\n\tconstructor(text: string, font: string, color: string = '#000000', ...args: any[]) {\r\n\t\tsuper(text, font, color, ...args);\r\n\t\t\r\n\t\tthis._initForPixi(text, font, color, ...args);\r\n\t\t\r\n\t\tP.call(this, text, font, color, ...args);\r\n\t}\r\n\t\r\n\tprotected _initForPixi(text: string, font: string, color: string = '#000000', ...args: any[]) {\r\n\t\tthis._createjsParams = createTextOriginParam(text, font, color);\r\n\t\t\r\n\t\tconst _font = this._parseFont(font);\r\n\t\t\r\n\t\tconst t = new PixiText(text, {\r\n\t\t\tfontWeight: _font.fontWeight,\r\n\t\t\tfontSize: _font.fontSize,\r\n\t\t\tfontFamily: _font.fontFamily,\r\n\t\t\tfill: this._parseColor(color),\r\n\t\t\twordWrap: true\r\n\t\t});\r\n\t\t\r\n\t\tthis._pixiData = createPixiTextData(this, t);\r\n\t\tthis._pixiData.instance.addChild(t);\r\n\t}\r\n\t\r\n\tget text() {\r\n\t\treturn this._createjsParams.text;\r\n\t}\r\n\t\r\n\tset text(text) {\r\n\t\tthis._pixiData.instance.text.text = text;\r\n\t\tthis._align(this.textAlign);\r\n\t\t\r\n\t\tthis._createjsParams.text = text;\r\n\t}\r\n\t\r\n\t_parseFont(font): IParsedText {\r\n\t\tconst p = font.split(' ');\r\n\t\t\r\n\t\tlet w = 'normal';\r\n\t\tlet s = p.shift();\r\n\t\t\r\n\t\tif (s.indexOf('px') === -1) {\r\n\t\t\tw = s;\r\n\t\t\ts = p.shift();\r\n\t\t}\r\n\t\t\r\n\t\treturn {\r\n\t\t\tfontWeight: w,\r\n\t\t\tfontSize: Number((s || '0px').replace('px', '')),\r\n\t\t\tfontFamily: p.join(' ').replace(/'/g, '') //'\r\n\t\t};\r\n\t}\r\n\t\r\n\tget font() {\r\n\t\treturn this._createjsParams.font;\r\n\t}\r\n\t\r\n\tset font(font) {\r\n\t\tconst _font = this._parseFont(font);\r\n\t\tthis._pixiData.instance.text.style.fontSize = _font.fontSize;\r\n\t\tthis._pixiData.instance.text.style.fontFamily = _font.fontFamily;\r\n\t\t\r\n\t\tthis._createjsParams.font = font;\r\n\t}\r\n\t\r\n\t_parseColor(color) {\r\n\t\treturn parseInt(color.slice(1), 16);\r\n\t}\r\n\t\r\n\tget color() {\r\n\t\treturn this._createjsParams.color;\r\n\t}\r\n\t\r\n\tset color(color) {\r\n\t\tthis._pixiData.instance.text.style.fill = this._parseColor(color);\r\n\t\t\r\n\t\tthis._createjsParams.color = color;\r\n\t}\r\n\t\r\n\t_align(align) {\r\n\t\tif (align === 'left') {\r\n\t\t\tthis._pixiData.instance.text.x = 0;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif (align === 'center') {\r\n\t\t\tthis._pixiData.instance.text.x = -this._pixiData.instance.text.width / 2;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif (align === 'right') {\r\n\t\t\tthis._pixiData.instance.text.x =  -this._pixiData.instance.text.width;\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tget textAlign() {\r\n\t\treturn this._createjsParams.textAlign;\r\n\t}\r\n\t\r\n\tset textAlign(align) {\r\n\t\tthis._pixiData.instance.text.style.align = align;\r\n\t\tthis._align(align);\r\n\t\t\r\n\t\tthis._createjsParams.textAlign = align;\r\n\t}\r\n\t\r\n\tget lineHeight() {\r\n\t\treturn this._createjsParams.lineHeight;\r\n\t}\r\n\t\r\n\tset lineHeight(height) {\r\n\t\tthis._pixiData.instance.text.style.lineHeight = height;\r\n\t\t\r\n\t\tthis._createjsParams.lineHeight = height;\r\n\t}\r\n\t\r\n\tget lineWidth() {\r\n\t\treturn this._createjsParams.lineWidth;\r\n\t}\r\n\t\r\n\tset lineWidth(width) {\r\n\t\tthis._pixiData.instance.text.style.wordWrapWidth = width;\r\n\t\tthis._align(this.textAlign);\r\n\t\t\r\n\t\tthis._createjsParams.lineWidth = width;\r\n\t}\r\n\t\r\n\tget pixi() {\r\n\t\treturn this._pixiData.instance;\r\n\t}\r\n\t\r\n\tupdateForPixi(e: ITickerData) {\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\n// temporary prototype\r\nObject.defineProperties(CreatejsText.prototype, {\r\n\t_createjsParams: {\r\n\t\tvalue: createCreatejsParams(),\r\n\t\twritable: true\r\n\t},\r\n\t_pixiData: {\r\n\t\tvalue: createPixiTextData({}, new PixiText('')),\r\n\t\twritable: true\r\n\t}\r\n});","import * as PIXI from 'pixi.js';\r\nimport * as createjs from './createjs/index';\r\n\r\n/**\r\n * @ignore\r\n */\r\ndeclare const window: any;\r\n\r\nexport interface IAnimateLibrary {\r\n\t[ name: string ]: any;\r\n}\r\n\r\nexport interface IPrepareOption {\r\n\t/**\r\n\t * Whether synchronous playback of movie clips is enabled.\r\n\t * If set to \"false\", the behavior will be a little faster.\r\n\t */\r\n\tuseSynchedTimeline?: boolean;\r\n\t\r\n\t/**\r\n\t * Whether to use motion guides.\r\n\t */\r\n\tuseMotionGuide?: boolean;\r\n};\r\n\r\nexport interface ILoadAssetOption {\r\n\t/**\r\n\t * Whether to use assets on a server in another domain.\r\n\t */\r\n\tcrossOrigin?: boolean;\r\n};\r\n\r\n/**\r\n * @ignore\r\n */\r\nlet _isPrepare = false;\r\n\r\n/**\r\n * Prepare createjs content published with Adobe Animate.\r\n */\r\nexport function prepareAnimate(options: IPrepareOption = {}) {\r\n\tif (_isPrepare) {\r\n\t\treturn;\r\n\t}\r\n\t\r\n\tcreatejs.CreatejsMovieClip.selectUpdateFunc(options.useSynchedTimeline);\r\n\t\r\n\tif (options.useMotionGuide) {\r\n\t\twindow.createjs.MotionGuidePlugin.install();\r\n\t}\r\n\t\r\n\t_isPrepare = true;\r\n}\r\n\r\n/**\r\n * Load assets of createjs content published with Adobe Animate.\r\n * \r\n * @param id \"lib.properties.id\" in Animate content.\r\n * @param basepath Directory path of Animate content.\r\n */\r\nexport function loadAssetAsync(id: string, basepath: string, options: ILoadAssetOption = {}) {\r\n\tconst comp = window.AdobeAn.getComposition(id);\r\n\tif (!comp) {\r\n\t\tthrow new Error('no composition');\r\n\t}\r\n\t\r\n\tconst lib: IAnimateLibrary = comp.getLibrary();\r\n\t\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tif (lib.properties.manifest.length === 0) {\r\n\t\t\tresolve({});\r\n\t\t}\r\n\t\t\r\n\t\tif (basepath) {\r\n\t\t\tbasepath = (basepath + '/').replace(/([^\\:])\\/\\//, \"$1/\");\r\n\t\t}\r\n\t\t\r\n\t\tconst loader = new window.createjs.LoadQueue(false, basepath);\r\n\t\t\r\n\t\tloader.installPlugin(window.createjs.Sound);\r\n\t\t\r\n\t\tloader.addEventListener('fileload', function(evt: any) {\r\n\t\t\thandleFileLoad(evt, comp);\r\n\t\t});\r\n\t\t\r\n\t\tloader.addEventListener('complete', function(evt: any) {\r\n\t\t\tresolve(evt);\r\n\t\t});\r\n\t\t\r\n\t\tif (options.crossOrigin) {\r\n\t\t\tconst m = lib.properties.manifest;\r\n\t\t\tfor (let i = 0; i < m.length; i++) {\r\n\t\t\t\tm[i].crossOrigin = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tloader.loadManifest(lib.properties.manifest);\r\n\t})\r\n\t.then((evt: any) => {\r\n\t\tconst ss = comp.getSpriteSheet();\r\n\t\tconst queue = evt.target;\r\n\t\tconst ssMetadata = lib.ssMetadata;\r\n\t\t\r\n\t\tfor (let i = 0; i < ssMetadata.length; i++) {\r\n\t\t\tss[ssMetadata[i].name] = new window.createjs.SpriteSheet({\r\n\t\t\t\timages: [\r\n\t\t\t\t\tqueue.getResult(ssMetadata[i].name)\r\n\t\t\t\t],\r\n\t\t\t\tframes: ssMetadata[i].frames\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\treturn lib;\r\n\t});\r\n}\r\n\r\nexport function initializeAnimate(obj: { [name: string]: any } = {}) {\r\n\twindow.createjs.Stage = createjs.CreatejsStage;\r\n\twindow.createjs.StageGL = createjs.CreatejsStageGL;\r\n\twindow.createjs.MovieClip = createjs.CreatejsMovieClip;\r\n\twindow.createjs.Sprite = createjs.CreatejsSprite;\r\n\twindow.createjs.Shape = createjs.CreatejsShape;\r\n\twindow.createjs.Bitmap = createjs.CreatejsBitmap;\r\n\twindow.createjs.Graphics = createjs.CreatejsGraphics;\r\n\twindow.createjs.Text = createjs.CreatejsText;\r\n\twindow.createjs.ButtonHelper = createjs.CreatejsButtonHelper;\r\n\t\r\n\tfor (let i in obj) {\r\n\t\twindow.createjs[i] = obj[i];\r\n\t}\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction handleFileLoad(evt: any, comp: any) {\r\n\tconst images = comp.getImages();\r\n\tif (evt && (evt.item.type == 'image')) {\r\n\t\timages[evt.item.id] = evt.result;\r\n\t}\r\n}"],"names":["PIXI.Sprite","P","PIXI.BaseTexture","PIXI.Texture","PIXI.Container","PIXI.Graphics","PIXI.LINE_CAP","PIXI.LINE_JOIN","DEG_TO_RAD","PIXI.Text","createjs.CreatejsMovieClip","createjs.CreatejsStage","createjs.CreatejsStageGL","createjs.CreatejsSprite","createjs.CreatejsShape","createjs.CreatejsBitmap","createjs.CreatejsGraphics","createjs.CreatejsText","createjs.CreatejsButtonHelper"],"mappings":"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"}